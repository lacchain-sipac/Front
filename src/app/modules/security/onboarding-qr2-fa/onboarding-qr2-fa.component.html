<div class="d-flex flex-column content mx-3 mt-2">
  <div class="p-2 row d-flex header justify-content-center">
    <div class="col-8 d-flex justify-content-center">
      <span class="text-white">Doble factor de Autenticación</span>
    </div>
  </div>
  <div class="body d-flex flex-column align-items-center p-4">
    <div class="wrap-steps d-flex flex-row">
      <div class="steps">
        <div class="guide">
          <span>
            Para verificar su identidad es necesario usar la aplicación
            Microsoft Authenticator y seguir estos pasos.
          </span>
        </div>
        <ol class="list_number_qr p-0">
          <li>Abrir Microsoft Authenticator en tu dispositivo móvil.</li>
          <li>Selecciona la opción Escanear un código QR.</li>
          <li>
            Apunta tu dispositivo a la pantalla para capturar el código QR.
          </li>
          <li>
            Ingrese el código de verificación que le aparece en el dispositivo.
          </li>
        </ol>
      </div>
      <div
        class="qr ml-3 d-flex flex-row justify-content-center align-items-center"
      >
        <qrcode
          *ngIf="urlQR"
          [qrdata]="urlQR"
          [width]="220"
          [errorCorrectionLevel]="'M'"
        ></qrcode>
        <mat-spinner *ngIf="!urlQR"></mat-spinner>
      </div>
    </div>
    <div class="w-100">
      <div class="col-md-12 col-sm-12">
        <mat-form-field class="w-100" appearance="outline" floatLabel="always">
          <mat-icon matPrefix class="mr-2 ml-2">vpn_key</mat-icon>
          <input
            type="text"
            maxlength="6"
            ktInputPattern="onlyNumbers"
            [(ngModel)]="verificationCode"
            [style.fontSize.px]="15"
            matInput
            placeholder="Porfavor, ingrese su código aquí"
          />
        </mat-form-field>
      </div>
    </div>

    <div class="row w-100">
      <div class="col-md-6 col-sm-6">
        <button
          mat-flat-button
          (click)="hideOnbobarding()"
          color="secondary"
          class="w-100 p-1 btn-secondary"
        >
          Volver
        </button>
      </div>
      <div class="col-md-6 col-sm-6">
        <button
          mat-flat-button
          [disabled]="!verificationCode || verificationCode.length < 6"
          (click)="authenticate()"
          color="primary"
          class="w-100 p-1"
        >
          Autenticar
        </button>
      </div>
    </div>
  </div>
</div>
